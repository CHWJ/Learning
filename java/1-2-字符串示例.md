## 参考资料
- [Java技术——你真的了解String类的intern()方法吗](https://blog.csdn.net/seu_calvin/article/details/52291082)
- [面试别再问我String了](https://mp.weixin.qq.com/s?__biz=MzAwNTM0ODY1Mg==&mid=2457116104&idx=1&sn=e6e81aeb793056cc0f0ba61b3daeef37&chksm=8c9e318bbbe9b89dc9e5969c3991926921deb6e5d4fe1ce667149d11bf5accfbd4191d1ee09f&token=325711551&lang=zh_CN#rd)


## String

``` java
// JVM会先去常量池中查找是否存在HelloFlyapi，当存在时直接返回常量池里的引用；当不存在时，会在方法区的字符串常量池中创建一个对象并返回引用
String str1 = "HelloFlyapi";
String str2 = "HelloFlyapi";
// 在堆内存创建对象A，再去常量池中查找是否存在HelloFlyapi：当存在时直接返回常量池里的引用给A；反之，在方法区的字符串常量池中创建一个对象并返回引用给A。然后再将对象A的引用赋给str3
String str3 = new String("HelloFlyapi");
String str4 = "Hello";
String str5 = "Flyapi";
// 由于”Hello”和”Flyapi”都是常量，编译时，会被自动编译为 String str6 = “HelloFlyapi”
String str6 = "Hello" + "Flyapi";
// JVM会在堆（heap）中创建一个以str4为基础的一个StringBuilder对象，然后调用StringBuilder的append()方法完成与str5的合并，之后会调用toString()方法在堆（heap）中创建一个String对象，并把这个String对象的引用赋给str7。
String str7 = str4 + str5;

// true
System.out.println("str1 == str2 result: " + (str1 == str2));
// false
System.out.println("str1 == str3 result: " + (str1 == str3));
// true
System.out.println("str1 == str6 result: " + (str1 == str6));
// false
System.out.println("str1 == str7 result: " + (str1 == str7));
// true
System.out.println("str1 == str7.intern() result: " + (str1 == str7.intern()));
// false
System.out.println("str3 == str3.intern() result: " + (str3 == str3.intern()));

String str22 = "SEUCalvin";
// 注意此处没有在常量池而是在堆中创建“SEUCalvin”对象
String str11 = new String("SEU") + new String("Calvin");
// str11.intern()的操作：在常量池中查询“SEUCalvin”对象，若没有在常量池中则创建“SEUCalvin”对象（此对象是指针而非实例），且将对象指向str11，并返回str11的地址；反之，不对str11的指向进行操作，返回“SEUCalvin”对象的地址
String copyStr11 = str11.intern();
// false
System.out.println(copyStr11 == str11);
// false
System.out.println(str11 == "SEUCalvin");
```
